function renderGraph(t){var e={};this.tickboolean=t.tickboolean,this.dataob=t.dataObject,this.height=t.height,this.width=t.width+80,this.tag=t.tag||"value",this.axisName=t.axisName,this.chartType=t.chart.toString(),this.tickobY=t.ticks||[],this.tickobX=t.ticksXaxis||["test","test","test","test","test","test","test","test"],this.numberOfGraph=Object.keys(this.dataob).length,this.currentIteration=0;this.numberOfGraph;this.getWindowSize(),this.coordinateCalculation(),this.pathStringBuilder();new renderTool;if("line"==this.chartType.toString()){this.svgCanvas=this.svgPlot(this.width,this.height),document.getElementById("container").appendChild(this.svgCanvas);s={RenderGraphI:this.svgCanvas,width:this.width,height:this.height,tickArray:this.tickobY,tickBoolean:this.tickBoolean};this.addAxisLabel(),this.mouseDragSelector(),this.yaxisDraw=new yAxis(s),s.tickArray=this.tickobX,s.tickBoolean=this.tickBoolean,this.xaxisDraw=new xAxis(s);var i={};i.svg=this.svgCanvas,i.coordinateOb=this.coordinateOb,i.dataob=this.dataob,i.pathString=this.pathString,i.width=this.width,i.height=this.height,i.tag=this.tag,this.lineChart=new lineChart(i),this.anchorPoints=[],this.anchorPoints=this.lineChart.anchorPoints,this.hairLine=this.lineChart.hairLine}else if("column"==this.chartType.toString()){this.svgCanvas=this.svgPlot(this.width,this.height),document.getElementById("container").appendChild(this.svgCanvas);var s={RenderGraphI:this.svgCanvas,width:this.width,height:this.height,tickArray:this.tickobY,tickBoolean:this.tickBoolean,axisBoolean:"y"};this.addAxisLabel(),this.mouseDragSelector(),this.yaxisDraw=new yAxis(s),s.tickArray=this.tickobX,s.tickBoolean=this.tickBoolean,s.axisBoolean="x",this.xaxisDraw=new xAxis(s);var r={};r.svg=this.svgCanvas,r.coordinateOb=this.coordinateOb,r.dataob=this.dataob,r.width=this.width,r.height=this.height,r.tag=this.tag,this.columnChart=new columnChart(r),this.svgColumn=[],this.svgColumn=this.columnChart.svgColumn}else"crosstab"==this.chartType.toString()&&(this.svgCanvas=this.svgPlot(this.width-150,this.height),document.getElementById("container").appendChild(this.svgCanvas),e.svg=this.svgCanvas,e.colorStart=t.colorStart,e.colorEnd=t.colorEnd,e.dataob=this.dataob,e.minProfit=t.minProfit,e.maxProfit=t.maxProfit,e.width=this.width-85,e.height=this.height,e.ticks=t.pureTicks,this.crossChart=new crossChartDemo(e))}function onSelectBox(t,e,i,s){var r=new CustomEvent("onSelect",{detail:{beginX:t,beginY:i,endX:e,endY:s},bubbles:!0,cancelable:!0});document.dispatchEvent(r)}function onMouseMove(t){var t=new CustomEvent("onHighlight",{detail:{x:t.pageX,y:t.pageY},bubbles:!0,cancelable:!0});document.dispatchEvent(t)}function onMouseOut(t){var t=new CustomEvent("onNormal",{detail:{x:t.pageX},bubbles:!0,cancelable:!0});document.dispatchEvent(t)}function renderGraph(t){var e={};this.tickboolean=t.tickboolean,this.dataob=t.dataObject,this.height=t.height,this.width=t.width+80,this.tag=t.tag||"value",this.axisName=t.axisName,this.chartType=t.chart.toString(),this.tickobY=t.ticks||[],this.tickobX=t.ticksXaxis||["test","test","test","test","test","test","test","test"],this.numberOfGraph=Object.keys(this.dataob).length,this.currentIteration=0;this.numberOfGraph;this.getWindowSize(),this.coordinateCalculation(),this.pathStringBuilder();new renderTool;if("line"==this.chartType.toString()){this.svgCanvas=this.svgPlot(this.width,this.height),document.getElementById("container").appendChild(this.svgCanvas);s={RenderGraphI:this.svgCanvas,width:this.width,height:this.height,tickArray:this.tickobY,tickBoolean:this.tickBoolean};this.addAxisLabel(),this.mouseDragSelector(),this.yaxisDraw=new yAxis(s),s.tickArray=this.tickobX,s.tickBoolean=this.tickBoolean,this.xaxisDraw=new xAxis(s);var i={};i.svg=this.svgCanvas,i.coordinateOb=this.coordinateOb,i.dataob=this.dataob,i.pathString=this.pathString,i.width=this.width,i.height=this.height,i.tag=this.tag,this.lineChart=new lineChart(i),this.anchorPoints=[],this.anchorPoints=this.lineChart.anchorPoints,this.hairLine=this.lineChart.hairLine}else if("column"==this.chartType.toString()){this.svgCanvas=this.svgPlot(this.width,this.height),document.getElementById("container").appendChild(this.svgCanvas);var s={RenderGraphI:this.svgCanvas,width:this.width,height:this.height,tickArray:this.tickobY,tickBoolean:this.tickBoolean,axisBoolean:"y"};this.addAxisLabel(),this.mouseDragSelector(),this.yaxisDraw=new yAxis(s),s.tickArray=this.tickobX,s.tickBoolean=this.tickBoolean,s.axisBoolean="x",this.xaxisDraw=new xAxis(s);var r={};r.svg=this.svgCanvas,r.coordinateOb=this.coordinateOb,r.dataob=this.dataob,r.width=this.width,r.height=this.height,r.tag=this.tag,this.columnChart=new columnChart(r),this.svgColumn=[],this.svgColumn=this.columnChart.svgColumn}else"crosstab"==this.chartType.toString()&&(this.svgCanvas=this.svgPlot(this.width-150,this.height),document.getElementById("container").appendChild(this.svgCanvas),e.svg=this.svgCanvas,e.colorStart=t.colorStart,e.colorEnd=t.colorEnd,e.dataob=this.dataob,e.minProfit=t.minProfit,e.maxProfit=t.maxProfit,e.width=this.width-85,e.height=this.height,e.ticks=t.pureTicks,this.crossChart=new crossChartDemo(e))}function onSelectBox(t,e,i,s){var r=new CustomEvent("onSelect",{detail:{beginX:t,beginY:i,endX:e,endY:s},bubbles:!0,cancelable:!0});document.dispatchEvent(r)}function onMouseMove(t){var t=new CustomEvent("onHighlight",{detail:{x:t.pageX,y:t.pageY},bubbles:!0,cancelable:!0});document.dispatchEvent(t)}function onMouseOut(t){var t=new CustomEvent("onNormal",{detail:{x:t.pageX},bubbles:!0,cancelable:!0});document.dispatchEvent(t)}function yAxis(t){t.axisBoolean="y",Axis.call(this,t)}function xAxis(t){t.axisBoolean="x",Axis.call(this,t)}function xAxis(t){t.axisBoolean="x",Axis.call(this,t)}function rangeBeautifier(t,e){bufferMin=t,bufferMax=e;for(var i=0,s=0,r=0,a=Math.abs(bufferMax-bufferMin),o=a,n=0;a>0;)a=Math.floor(a/10),r+=1;var h=5*Math.pow(10,r-2);if(s=h*Math.floor(bufferMin/h),o/bufferMax<.1){for(r=0,a=bufferMin;0!=a;)a=Math.floor(a/10),r++;h<(n=5*Math.pow(10,r-2))&&(h=n)}return i=h*Math.ceil(bufferMax/h),[s,i]}function tickGenerator(t,e,i,s){!0===i&&(t=rangeBeautifier(t,e)[0],e=rangeBeautifier(t,e)[1]);for(var r=t,a=e,o=0,n=0,h=0,d=[];a>99;)a=Math.floor(a/10),o++;for(h=(n=a-(r=Math.floor(r/Math.pow(10,o))))>0&&n<=1?.25*Math.pow(10,o):n<=3?.5*Math.pow(10,o):n<=6?1*Math.pow(10,o):n<=12?2*Math.pow(10,o):n<=20?4*Math.pow(10,o):n<=30?5*Math.pow(10,o):n<=40?7*Math.pow(10,o):n<=70?15*Math.pow(10,o):n<=90?20*Math.pow(10,o):10*Math.pow(10,o),o=t,1==s?d.push(o/1e3+"K"):d.push(o);o<e;)o+=h,1==s?d.push(o/1e3+"K"):d.push(o);return d}function colorBars(t,e,i,s,r){var a,o,n,h,d;r>0?(a=t.substring(1,t.length),o=e.substring(1,e.length),n=r/s):(o="FF7777",a="FF2222",n=r/i);var c=function(t){return t=t.toString(16),1==t.length?"0"+t:t};return h=Math.ceil(parseInt(a.substring(0,2),16)*n+parseInt(o.substring(0,2),16)*(1-n)),d=Math.ceil(parseInt(a.substring(2,4),16)*n+parseInt(o.substring(2,4),16)*(1-n)),b=Math.ceil(parseInt(a.substring(4,6),16)*n+parseInt(o.substring(4,6),16)*(1-n)),"#"+(c(h)+c(d)+c(b))}function attachBoundary(t,e,i,s,r){var a=new renderTool,o=t.getAttribute("width"),n=t.getAttribute("height");!0===e&&t.appendChild(a.drawLine(0,o,0,0,"svgAxis")),!0===i&&t.appendChild(a.drawLine(0,o,n,n,"svgAxis")),!0===s&&t.appendChild(a.drawLine(0,0,0,n,"svgAxis")),!0===r&&t.appendChild(a.drawLine(o,o,0,n,"svgAxis"))}function minmax(t,e){var i,s=-1/0,r=1/0;for(var a in t)(i=t[a][e+""])>s&&(s=i),i<r&&(r=i);return{max:s,min:r}}function interpolate(t,e,i){for(var s=[],r=(e-t)/i,a=t,o=0;o<i-1;o++)a+=r,s.push(Math.round(1e3*a)/1e3);return s}function animateColumn(t,e,i){function s(i){"height"==e.toLowerCase()&&t.setAttribute(r,o+(200-i)*a),t.setAttribute(e,i*a)}var r;"vertical"==e.toLowerCase()?(e="height",r="y"):"horizontal"==e.toLowerCase()&&(e="width",r="x");var a=Number(t.getAttribute(e))/200,o=Number(t.getAttribute(r));i/=100,t.setAttribute(r,o+Number(t.getAttribute(r))),t.setAttribute(e,-100);for(var n=0;n<200;n++)setTimeout(s.bind(this,n),i*n);return t}function rangeBeautifier(t,e){bufferMin=t,bufferMax=e;for(var i=0,s=0,r=0,a=Math.abs(bufferMax-bufferMin),o=a,n=0;a>0;)a=Math.floor(a/10),r+=1;var h=5*Math.pow(10,r-2);if(s=h*Math.floor(bufferMin/h),o/bufferMax<.1){for(r=0,a=bufferMin;0!=a;)a=Math.floor(a/10),r++;h<(n=5*Math.pow(10,r-2))&&(h=n)}return i=h*Math.ceil(bufferMax/h),[s,i]}function tickGenerator(t,e,i,s){!0===i&&(t=rangeBeautifier(t,e)[0],e=rangeBeautifier(t,e)[1]);for(var r=t,a=e,o=0,n=0,h=0,d=[];a>99;)a=Math.floor(a/10),o++;for(h=(n=a-(r=Math.floor(r/Math.pow(10,o))))>0&&n<=1?.25*Math.pow(10,o):n<=3?.5*Math.pow(10,o):n<=6?1*Math.pow(10,o):n<=12?2*Math.pow(10,o):n<=20?4*Math.pow(10,o):n<=30?5*Math.pow(10,o):n<=40?7*Math.pow(10,o):n<=70?15*Math.pow(10,o):n<=90?20*Math.pow(10,o):10*Math.pow(10,o),o=t,1==s?d.push(o/1e3+"K"):d.push(o);o<e;)o+=h,1==s?d.push(o/1e3+"K"):d.push(o);return d}function colorBars(t,e,i,s,r){var a,o,n,h,d;r>0?(a=t.substring(1,t.length),o=e.substring(1,e.length),n=r/s):(o="FF7777",a="FF2222",n=r/i);var c=function(t){return t=t.toString(16),1==t.length?"0"+t:t};return h=Math.ceil(parseInt(a.substring(0,2),16)*n+parseInt(o.substring(0,2),16)*(1-n)),d=Math.ceil(parseInt(a.substring(2,4),16)*n+parseInt(o.substring(2,4),16)*(1-n)),b=Math.ceil(parseInt(a.substring(4,6),16)*n+parseInt(o.substring(4,6),16)*(1-n)),"#"+(c(h)+c(d)+c(b))}function attachBoundary(t,e,i,s,r){var a=new renderTool,o=t.getAttribute("width"),n=t.getAttribute("height");!0===e&&t.appendChild(a.drawLine(0,o,0,0,"svgAxis")),!0===i&&t.appendChild(a.drawLine(0,o,n,n,"svgAxis")),!0===s&&t.appendChild(a.drawLine(0,0,0,n,"svgAxis")),!0===r&&t.appendChild(a.drawLine(o,o,0,n,"svgAxis"))}function minmax(t,e){var i,s=-1/0,r=1/0;for(var a in t)(i=t[a][e+""])>s&&(s=i),i<r&&(r=i);return{max:s,min:r}}function interpolate(t,e,i){for(var s=[],r=(e-t)/i,a=t,o=0;o<i-1;o++)a+=r,s.push(Math.round(1e3*a)/1e3);return s}function animateColumn(t,e,i){function s(i){"height"==e.toLowerCase()&&t.setAttribute(r,o+(200-i)*a),t.setAttribute(e,i*a)}var r;"vertical"==e.toLowerCase()?(e="height",r="y"):"horizontal"==e.toLowerCase()&&(e="width",r="x");var a=Number(t.getAttribute(e))/200,o=Number(t.getAttribute(r));i/=100,t.setAttribute(r,o+Number(t.getAttribute(r))),t.setAttribute(e,-100);for(var n=0;n<200;n++)setTimeout(s.bind(this,n),i*n);return t}function crossChartDemo(t){this.dataob=t.dataob,this.width=t.width+100,this.height=t.height,this.colorStart=t.colorStart,this.colorEnd=t.colorEnd,this.minProfit=t.minProfit,this.maxProfit=t.maxProfit,this.ticks=t.ticks,t.direction="horizontal",attachBoundary(t.svg,!0,!0,!0,!0);var e=this.coordinateCalculationCrossTab();t.coordinateOb=e,columnChart.call(this,t)}function crossChartDemo(t){this.dataob=t.dataob,this.width=t.width+100,this.height=t.height,this.colorStart=t.colorStart,this.colorEnd=t.colorEnd,this.minProfit=t.minProfit,this.maxProfit=t.maxProfit,this.ticks=t.ticks,t.direction="horizontal",attachBoundary(t.svg,!0,!0,!0,!0);var e=this.coordinateCalculationCrossTab();t.coordinateOb=e,columnChart.call(this,t)}renderGraph.prototype.getWindowSize=function(){var t=document,e=t.documentElement,i=t.body;this.wid=window.innerWidth||e.clientWidth||i.clientWidth},renderGraph.prototype.svgPlot=function(t,e){var i=new renderTool;return this.svgCanvas=i.drawSVG(t+20,e,"svgGraph"),this.svgCanvas},renderGraph.prototype.addAxisLabel=function(){var t=(new renderTool).drawRect(40,0,this.width-35,28,"labelRectStyle");this.svgCanvas.appendChild(t);var e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttributeNS(null,"x",45+(this.width-45)/2),e.setAttributeNS(null,"y",18),e.setAttribute("class","labelYtext"),e.textContent=""+this.axisName,this.svgCanvas.appendChild(e)},renderGraph.prototype.mouseDragSelector=function(){var t,e=this;this.dragBox=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.svgCanvas.addEventListener("mousedown",function(i){t=1,e.startX=(i.pageX-10)%(e.width+20),e.startY=i.pageY-70,"line"==e.chartType&&e.svgCanvas.removeChild(e.hairLine)},!1),this.svgCanvas.addEventListener("mousemove",function(i){1==t&&(e.endPointX=i.pageX%(e.width+20),e.endPointY=(i.pageY-50)%(e.height+70),"line"==e.chartType&&e.svgCanvas.removeChild(e.hairLine),e.endPointX>e.startX&&e.endPointY>e.startY?(e.dragBox.setAttribute("x",e.startX),e.dragBox.setAttribute("y",(e.startY-80)%e.height)):e.endPointX>e.startX&&e.endPointY<e.startY?(e.dragBox.setAttribute("x",e.startX),e.dragBox.setAttribute("y",(i.pageY-80)%e.height)):e.endPointX<e.startX&&e.endPointY>e.startY?(e.dragBox.setAttribute("y",(e.startY-80)%e.height),e.dragBox.setAttribute("x",i.pageX%(e.width+20))):e.endPointX<e.startX&&e.endPointY<e.startY&&(e.dragBox.setAttribute("x",i.pageX%(e.width+20)),e.dragBox.setAttribute("y",(i.pageY-80)%e.height)),e.dragBox.setAttribute("width",Math.abs((i.pageX-8)%(e.width+20)-e.startX)),e.dragBox.setAttribute("height",Math.abs(e.endPointY-e.startY)),e.dragBox.setAttribute("class","selectionBox"),e.svgCanvas.appendChild(e.dragBox))},!1),this.svgCanvas.addEventListener("mouseup",function(i){1==t&&e.svgCanvas.removeChild(e.dragBox),"line"==e.chartType&&e.svgCanvas.appendChild(e.hairLine),t=0},!1),this.svgCanvas.addEventListener("mousemove",function(t){e.beginX=e.startX-10,e.endX=e.endPointX-10,e.beginY=e.startY-70,e.endY=e.endPointY,onSelectBox(e.beginX,e.endX,e.beginY,e.endY)},!1),document.addEventListener("onSelect",function(t){beginX=t.detail.beginX,beginY=(t.detail.beginY-20)%(e.height+70),endX=t.detail.endX,endY=(t.detail.endY-120)%(e.height+70);for(var i in e.coordinateOb){new renderTool;var s=e.coordinateOb[i];s.x>beginX&&s.x<endX&&s.y%(e.height+70)>beginY&&s.y%(e.height+70)<endY&&("line"==e.chartType?e.anchorPoints[i].style.fill="red":e.svgColumn[i].setAttribute("class","svgColumnHighlight"))}},!1)},renderGraph.prototype.coordinateCalculation=function(){r=0;for(var t in this.dataob){var e=this.dataob,i=this.tickobY,s=[],r=0,a=65,o=(this.width-40)/this.tickobX.length;for(var n in e){r++;var h=isNaN(i[0])?1e3*+i[0].replace("K",""):+i[0],d=isNaN(i[i.length-1])?1e3*+i[i.length-1].replace("K",""):+i[i.length-1],c=this.height-40,l=c-(e[n][this.tag]-h)/(d-h)*(c-30);s.push({x:a,y:l}),a+=o}this.coordinateOb=s,r++}},renderGraph.prototype.pathStringBuilder=function(){var t=this.coordinateOb,e="M";for(var i in t){var s=t[i];e=e+(s.x+",")+s.y+" L"}e=e.slice(0,e.length-2);Object.keys(this.dataob);this.pathString=e},renderGraph.prototype.getWindowSize=function(){var t=document,e=t.documentElement,i=t.body;this.wid=window.innerWidth||e.clientWidth||i.clientWidth},renderGraph.prototype.svgPlot=function(t,e){var i=new renderTool;return this.svgCanvas=i.drawSVG(t+20,e,"svgGraph"),this.svgCanvas},renderGraph.prototype.addAxisLabel=function(){var t=(new renderTool).drawRect(40,0,this.width-35,28,"labelRectStyle");this.svgCanvas.appendChild(t);var e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttributeNS(null,"x",45+(this.width-45)/2),e.setAttributeNS(null,"y",18),e.setAttribute("class","labelYtext"),e.textContent=""+this.axisName,this.svgCanvas.appendChild(e)},renderGraph.prototype.mouseDragSelector=function(){var t,e=this;this.dragBox=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.svgCanvas.addEventListener("mousedown",function(i){t=1,e.startX=(i.pageX-10)%(e.width+20),e.startY=i.pageY-70,"line"==e.chartType&&e.svgCanvas.removeChild(e.hairLine)},!1),this.svgCanvas.addEventListener("mousemove",function(i){1==t&&(e.endPointX=i.pageX%(e.width+20),e.endPointY=(i.pageY-50)%(e.height+70),"line"==e.chartType&&e.svgCanvas.removeChild(e.hairLine),e.endPointX>e.startX&&e.endPointY>e.startY?(e.dragBox.setAttribute("x",e.startX),e.dragBox.setAttribute("y",(e.startY-80)%e.height)):e.endPointX>e.startX&&e.endPointY<e.startY?(e.dragBox.setAttribute("x",e.startX),e.dragBox.setAttribute("y",(i.pageY-80)%e.height)):e.endPointX<e.startX&&e.endPointY>e.startY?(e.dragBox.setAttribute("y",(e.startY-80)%e.height),e.dragBox.setAttribute("x",i.pageX%(e.width+20))):e.endPointX<e.startX&&e.endPointY<e.startY&&(e.dragBox.setAttribute("x",i.pageX%(e.width+20)),e.dragBox.setAttribute("y",(i.pageY-80)%e.height)),e.dragBox.setAttribute("width",Math.abs((i.pageX-8)%(e.width+20)-e.startX)),e.dragBox.setAttribute("height",Math.abs(e.endPointY-e.startY)),e.dragBox.setAttribute("class","selectionBox"),e.svgCanvas.appendChild(e.dragBox))},!1),this.svgCanvas.addEventListener("mouseup",function(i){1==t&&e.svgCanvas.removeChild(e.dragBox),"line"==e.chartType&&e.svgCanvas.appendChild(e.hairLine),t=0},!1),this.svgCanvas.addEventListener("mousemove",function(t){e.beginX=e.startX-10,e.endX=e.endPointX-10,e.beginY=e.startY-70,e.endY=e.endPointY,onSelectBox(e.beginX,e.endX,e.beginY,e.endY)},!1),document.addEventListener("onSelect",function(t){beginX=t.detail.beginX,beginY=(t.detail.beginY-20)%(e.height+70),endX=t.detail.endX,endY=(t.detail.endY-120)%(e.height+70);for(var i in e.coordinateOb){new renderTool;var s=e.coordinateOb[i];s.x>beginX&&s.x<endX&&s.y%(e.height+70)>beginY&&s.y%(e.height+70)<endY&&("line"==e.chartType?e.anchorPoints[i].style.fill="red":e.svgColumn[i].setAttribute("class","svgColumnHighlight"))}},!1)},renderGraph.prototype.coordinateCalculation=function(){r=0;for(var t in this.dataob){var e=this.dataob,i=this.tickobY,s=[],r=0,a=65,o=(this.width-40)/this.tickobX.length;for(var n in e){r++;var h=isNaN(i[0])?1e3*+i[0].replace("K",""):+i[0],d=isNaN(i[i.length-1])?1e3*+i[i.length-1].replace("K",""):+i[i.length-1],c=this.height-40,l=c-(e[n][this.tag]-h)/(d-h)*(c-30);s.push({x:a,y:l}),a+=o}this.coordinateOb=s,r++}},renderGraph.prototype.pathStringBuilder=function(){var t=this.coordinateOb,e="M";for(var i in t){var s=t[i];e=e+(s.x+",")+s.y+" L"}e=e.slice(0,e.length-2);Object.keys(this.dataob);this.pathString=e};var renderTool=function(){this.svgLink="http://www.w3.org/2000/svg"};renderTool.prototype.drawSVG=function(t,e,i){var s=document.createElementNS(this.svgLink,"svg");return s.setAttribute("class",i),s.setAttribute("width",t),s.setAttribute("height",e),s},renderTool.prototype.drawLine=function(t,e,i,s,r){var a=document.createElementNS(this.svgLink,"line");return a.setAttribute("x1",t),a.setAttribute("x2",e),a.setAttribute("y1",i),a.setAttribute("y2",s),a.setAttribute("class",r),a},renderTool.prototype.drawCircle=function(t,e,i){var s=document.createElementNS(this.svgLink,"circle");return s.setAttribute("cx",t),s.setAttribute("cy",e),s.setAttribute("class",i),s},renderTool.prototype.drawRect=function(t,e,i,s,r){var a=document.createElementNS(this.svgLink,"rect");return a.setAttribute("x",t),a.setAttribute("y",e),a.setAttribute("width",i),a.setAttribute("height",s),a.setAttribute("class",r),a},renderTool.prototype.drawPath=function(t,e){var i=document.createElementNS(this.svgLink,"path");return i.setAttribute("d",t),i.setAttribute("container",container),i.setAttribute("class",e),i},renderTool.prototype.drawText=function(t,e,i){var s=document.createElementNS(this.drawText,"text");return s.setAttribute("x",100),s.setAttribute("y",100),s.setAttribute("class",i),s},(renderTool=function(){this.svgLink="http://www.w3.org/2000/svg"}).prototype.drawSVG=function(t,e,i){var s=document.createElementNS(this.svgLink,"svg");return s.setAttribute("class",i),s.setAttribute("width",t),s.setAttribute("height",e),s},renderTool.prototype.drawLine=function(t,e,i,s,r){var a=document.createElementNS(this.svgLink,"line");return a.setAttribute("x1",t),a.setAttribute("x2",e),a.setAttribute("y1",i),a.setAttribute("y2",s),a.setAttribute("class",r),a},renderTool.prototype.drawCircle=function(t,e,i){var s=document.createElementNS(this.svgLink,"circle");return s.setAttribute("cx",t),s.setAttribute("cy",e),s.setAttribute("class",i),s},renderTool.prototype.drawRect=function(t,e,i,s,r){var a=document.createElementNS(this.svgLink,"rect");return a.setAttribute("x",t),a.setAttribute("y",e),a.setAttribute("width",i),a.setAttribute("height",s),a.setAttribute("class",r),a},renderTool.prototype.drawPath=function(t,e){var i=document.createElementNS(this.svgLink,"path");return i.setAttribute("d",t),i.setAttribute("container",container),i.setAttribute("class",e),i},renderTool.prototype.drawText=function(t,e,i){var s=document.createElementNS(this.drawText,"text");return s.setAttribute("x",100),s.setAttribute("y",100),s.setAttribute("class",i),s};var Axis=function(t){this.RenderGraphI=t.RenderGraphI,this.width=t.width,this.height=t.height,this.tickArray=t.tickArray||["a","b","c","d","e"],this.tickBoolean=t.tickBoolean,this.axisBoolean=t.axisBoolean,this.tickOffset=t.tickOffset||0,this.getWindowSize(),this.RenderGraphI.appendChild(this.drawAxis()),this.drawTicks()};Axis.prototype.drawAxis=function(){var t=new renderTool;return"y"==this.axisBoolean?this.svgAxis=t.drawLine(45,45,30,this.height-40,"svgAxis"):"x"==this.axisBoolean&&(this.svgAxis=t.drawLine(45,this.width,this.height-40,this.height-40,"svgAxis")),this.svgAxis},Axis.prototype.drawTicks=function(){var t=new renderTool;if("y"==this.axisBoolean){this.div=(this.height-70)/(this.tickArray.length-1);for(var e=0;e<this.tickArray.length;e++)t.drawLine(42,45,this.height-40-this.div*e,this.height-40-this.div*e,null).setAttributeNS(null,"style","stroke:rgb(0,0,0);stroke-width:1.5"),this.svgTickLineY=t.drawRect(45,this.height-40-this.div*e,this.width-45,this.div,null),this.svgTickLineY.setAttributeNS(null,"style","stroke:rgb(0,0,0);stroke-width:0"),e%2==0&&0!=e?this.svgTickLineY.setAttributeNS(null,"class","svgTickRectEven"):this.svgTickLineY.setAttributeNS(null,"class","svgTickRectOdd"),this.RenderGraphI.appendChild(this.svgTickLineY),this.TicksY=document.createElementNS("http://www.w3.org/2000/svg","text"),this.TicksY.setAttributeNS(null,"x",40),this.TicksY.setAttributeNS(null,"y",this.height-40-this.div*e),this.TicksY.setAttributeNS(null,"fill","black"),this.TicksY.setAttributeNS(null,"text-anchor","end"),this.TicksY.setAttributeNS(null,"dominant-baseline","central"),this.TicksY.setAttributeNS(null,"font-family","Verdana"),this.TicksY.setAttribute("size","10px"),this.TicksY.textContent=""+this.tickArray[e],this.RenderGraphI.appendChild(this.TicksY)}else if("x"==this.axisBoolean)for(var i=(this.width-70)/(this.tickArray.length-1),s=0;s<this.tickArray.length;s++){var r=t.drawLine(25+this.tickOffset+i*(s+1),25+this.tickOffset+i*(s+1),this.height-37,this.height-39,null);r.setAttribute("style","stroke:rgb(0,0,0);stroke-width:2"),this.RenderGraphI.appendChild(r);var a=document.createElementNS("http://www.w3.org/2000/svg","text");document.createElementNS("http://www.w3.org/2000/svg","text"),a.setAttributeNS(null,"x",47+i*s),a.setAttributeNS(null,"y",this.height-this.tickOffset-50),a.setAttribute("fill","black"),a.setAttribute("size","10px"),a.textContent=this.tickArray[s],a.setAttribute("dominant-baseline","text-after-edge"),a.setAttribute("transform","rotate(90 "+(45+i*s)+","+(this.height-40)+")"),a.setAttribute("font-family","Verdana"),console.log(this.tickBoolean),0!=this.tickBoolean&&this.RenderGraphI.appendChild(a)}},Axis.prototype.getWindowSize=function(){var t=document,e=t.documentElement,i=t.body;this.wid=window.innerWidth||e.clientWidth||i.clientWidth},(Axis=function(t){this.RenderGraphI=t.RenderGraphI,this.width=t.width,this.height=t.height,this.tickArray=t.tickArray||["a","b","c","d","e"],this.tickBoolean=t.tickBoolean,this.axisBoolean=t.axisBoolean,this.tickOffset=t.tickOffset||0,this.getWindowSize(),this.RenderGraphI.appendChild(this.drawAxis()),this.drawTicks()}).prototype.drawAxis=function(){var t=new renderTool;return"y"==this.axisBoolean?this.svgAxis=t.drawLine(45,45,30,this.height-40,"svgAxis"):"x"==this.axisBoolean&&(this.svgAxis=t.drawLine(45,this.width,this.height-40,this.height-40,"svgAxis")),this.svgAxis},Axis.prototype.drawTicks=function(){var t=new renderTool;if("y"==this.axisBoolean){this.div=(this.height-70)/(this.tickArray.length-1);for(var e=0;e<this.tickArray.length;e++)t.drawLine(42,45,this.height-40-this.div*e,this.height-40-this.div*e,null).setAttributeNS(null,"style","stroke:rgb(0,0,0);stroke-width:1.5"),this.svgTickLineY=t.drawRect(45,this.height-40-this.div*e,this.width-45,this.div,null),this.svgTickLineY.setAttributeNS(null,"style","stroke:rgb(0,0,0);stroke-width:0"),e%2==0&&0!=e?this.svgTickLineY.setAttributeNS(null,"class","svgTickRectEven"):this.svgTickLineY.setAttributeNS(null,"class","svgTickRectOdd"),this.RenderGraphI.appendChild(this.svgTickLineY),this.TicksY=document.createElementNS("http://www.w3.org/2000/svg","text"),this.TicksY.setAttributeNS(null,"x",40),this.TicksY.setAttributeNS(null,"y",this.height-40-this.div*e),this.TicksY.setAttributeNS(null,"fill","black"),this.TicksY.setAttributeNS(null,"text-anchor","end"),this.TicksY.setAttributeNS(null,"dominant-baseline","central"),this.TicksY.setAttributeNS(null,"font-family","Verdana"),this.TicksY.setAttribute("size","10px"),this.TicksY.textContent=""+this.tickArray[e],this.RenderGraphI.appendChild(this.TicksY)}else if("x"==this.axisBoolean)for(var i=(this.width-70)/(this.tickArray.length-1),s=0;s<this.tickArray.length;s++){var r=t.drawLine(25+this.tickOffset+i*(s+1),25+this.tickOffset+i*(s+1),this.height-37,this.height-39,null);r.setAttribute("style","stroke:rgb(0,0,0);stroke-width:2"),this.RenderGraphI.appendChild(r);var a=document.createElementNS("http://www.w3.org/2000/svg","text");document.createElementNS("http://www.w3.org/2000/svg","text"),a.setAttributeNS(null,"x",47+i*s),a.setAttributeNS(null,"y",this.height-this.tickOffset-50),a.setAttribute("fill","black"),a.setAttribute("size","10px"),a.textContent=this.tickArray[s],a.setAttribute("dominant-baseline","text-after-edge"),a.setAttribute("transform","rotate(90 "+(45+i*s)+","+(this.height-40)+")"),a.setAttribute("font-family","Verdana"),console.log(this.tickBoolean),0!=this.tickBoolean&&this.RenderGraphI.appendChild(a)}},Axis.prototype.getWindowSize=function(){var t=document,e=t.documentElement,i=t.body;this.wid=window.innerWidth||e.clientWidth||i.clientWidth},yAxis.prototype=Object.create(Axis.prototype),yAxis.prototype.constructor=yAxis,xAxis.prototype=Object.create(Axis.prototype),xAxis.prototype.constructor=xAxis,xAxis.prototype=Object.create(Axis.prototype),xAxis.prototype.constructor=xAxis;var parsingDataset=function(t){if(this.dataset=t,this.jsonData=[],this.jsonData=this.dataset.data,this.dataob={},this.getWindowSize(),this.chartParse(),1==this.forcefulCrosstab){this.dataCruncherCrosstab(this.detect(this.jsonData,"category"));var e=["sosSum","sopSum"];this.jsonData=this.detect(this.jsonData,"category"),this.jsonData=this.detect(this.jsonData,"zone"),this.jsonData=this.dataCruncherForceful(this.jsonData);var i=minmax(this.jsonData[0],"sopSum").min,s=minmax(this.jsonData[0],"sopSum").max;this.ticks=tickGenerator(i,s,!0,!1);var r=[this.categories,this.zones],a=["Category vs SOP","Category vs SOS","Zone vs SOP","Zone vs SOS"],o={},n=0;for(var h in this.jsonData){o.dataObject=this.jsonData[h],o.height=this.height,o.width=this.width,o.ticksXaxis=r[h];for(var d in e){o.tag=e[d];var c=minmax(this.jsonData[0],e[d]).min,l=minmax(this.jsonData[0],e[d]).max;o.ticks=tickGenerator(c,l,!0,!0),o.pureTicks=tickGenerator(c,l,!0,!1),o.chart=this.chartType,o.axisName=a[n++],this.dataRender=new renderGraph(o)}}}else"line"==this.chartType||"column"==this.chartType?(this.jsonData=this.detect(this.jsonData,"time"),this.dataParseLineColumn(this.jsonData),this.orderingData(),this.minmax(),this.tickMaker(),this.evokingRender()):"crosstab"==this.chartType&&(this.jsonData=this.detect(this.jsonData,"category"),this.jsonData=this.detect(this.jsonData,"subcategory"),this.jsonData=this.dataCruncherCrosstab(this.jsonData),this.dataParseCrosstab(this.jsonData),this.fillUps(),this.evokingRender())};parsingDataset.prototype.svgPlot=function(t){var e=new renderTool;this.height;return t=Object.keys(t).length,this.svgCanvas=e.drawSVG(280,37.5*t,"svgGraph"),document.getElementById("container").appendChild(this.svgCanvas),this.svgCanvas},parsingDataset.prototype.dataCruncherForceful=function(t){var e,i,s=[],r=[],a=[],o=[];for(var n in t)i=t[n].sos,"("==t[n].sop.charAt(0)?(e=t[n].sop.replace("(",""),e=+(e=t[n].sos.replace(")","")),e*=-1):e=+t[n].sop,-1==s.indexOf(t[n].zone)?(s.push(t[n].zone),a.push({zone:t[n].zone,sosSum:+i,sopSum:+e})):(a[s.indexOf(t[n].zone)].sosSum+=+i,a[s.indexOf(t[n].zone)].sopSum+=e),-1==r.indexOf(t[n].category)?(r.push(t[n].category),o.push({category:t[n].category,sosSum:+i,sopSum:+e})):(o[r.indexOf(t[n].category)].sosSum+=+i,o[r.indexOf(t[n].category)].sopSum+=e);return[a,o]},parsingDataset.prototype.dataCruncherCrosstab=function(t){var e,i,s=[],r=[],a=[],o=-1/0,n=1/0,h=-1/0,d=1/0;for(var c in t)-1==s.indexOf(t[c].category)&&s.push(t[c].category),-1==a.indexOf(t[c].zone)&&a.push(t[c].zone);var l=[];for(var c in s){l[c]={},l[c].category=s[c],l[c].values=[];for(var u in a)l[c].values[u]={},l[c].values[u].zone=a[u],l[c].values[u].zoneValues=[]}for(var c in t)for(var u in l)for(var p in l[u].values)l[u].category==t[c].category&&l[u].values[p].zone==t[c].zone&&(i=Number(t[c].sos),e=t[c].sop,(e="("==t[c].sop[0]?-1*Number(e.replace("(","").replace(")","")):Number(e))>o&&(o=e),e<n&&(n=e),e>h&&(h=i),e<d&&(d=i),r.push(t[c].subcategory),l[u].values[p].zoneValues.push({product:t[c].subcategory,sos:i,sop:e}));return this.ticks=tickGenerator(0,h,!0,!0),this.pureTicks=tickGenerator(0,h,!0),this.categories=s,this.minProfit=n,this.maxProfit=o,this.zones=a,l},parsingDataset.prototype.dataParseCrosstab=function(t){var e=this.jsonData;for(var i in e){l=e[i];for(var s in l){if("values"!=s)c=l[s],this.dataob[c]={};else{u=l[s];var r=0;for(var a in u){var o=0,n=0;for(var h in u[a].zoneValues){u[a].zoneValues[h].sos=Number(u[a].zoneValues[h].sos),o+=Number(u[a].zoneValues[h].sos);var d=u[a].zoneValues[h].sop;NaN==Number(u[a].zoneValues[h].sop)?(d=(d=d.replace("(","")).replace(")",""),d=Number(d),n+=Number(d)):n+=Number(d)}u[a].zone==this.zones[r]?this.dataob[c][r]=u[a].zoneValues:(this.dataob[c][r++]=[],this.dataob[c][r]=u[a].zoneValues),r++}}}}this.productArray={};for(var i in e){var c,l=e[i];for(var s in l){var u,p;if("values"!=s)p=l[s],this.productArray[p]={};else{u=l[s];for(var a in u){var o=0,n=0;for(var h in u[a].zoneValues)void 0==this.productArray[p][u[a].zoneValues[h].product]&&"Total"!=u[a].zoneValues[h].product&&(this.productArray[p][u[a].zoneValues[h].product]=1)}}}}},parsingDataset.prototype.fillUps=function(){var t=Object.keys(this.productArray),e=0;for(var i in this.dataob){var s=this.dataob[i],r=this.productArray[t[e++]];r=r||{};for(var a in s){var o=Object.keys(r);for(var n in s[a])o=o.filter(function(t){return-1==[s[a][n].product+""].indexOf(t)});if(0!=o.length)for(var h in o)this.dataob[i][a].push({product:o[h]+"",sos:"0",sop:0});s[a].sort(function(t,e){return"Total"===t.product?1:"Total"===e.product?-1:t.product>e.product})}}},parsingDataset.prototype.dataParseLineColumn=function(t){var e=t,i=[];for(var s in e){var r,a=e[s];for(var o in a){var n=a[o];"time"==o?(r=n,-1==i.indexOf(r)&&i.push(r)):void 0==this.dataob[o]?(this.dataob[o]=[],this.dataob[o].push({time:r,value:n})):this.dataob[o].push({time:r,value:n})}}this.ticksXaxis=i},parsingDataset.prototype.detect=function(t,e){var i=[];for(var s in t)void 0!==t[s][e+""]&&i.push(t[s]);return i},parsingDataset.prototype.chartParse=function(){var t,e,i=this.dataset.chart;for(var s in i)"height"==s?this.height=i[s]:"width"==s?this.width=i[s]:"chartType"==s?this.chartType=i[s]:"ordering"==s?this.ordering=i[s]:"caption"==s?t=i[s]:"subcaption"==s?e=i[s]:"colorStart"==s?this.colorStart=i[s]:"colorEnd"==s?this.colorEnd=i[s]:"forceMapping"==s&&(this.forcefulCrosstab=i[s]);"crosstab"!==this.chartType&&(document.getElementById("caption").innerHTML=t,document.getElementById("subcaption").innerHTML=e)},parsingDataset.prototype.orderingData=function(){var t,e=[],i=0,s={};for(var r in this.dataob){var a=this.dataob[r];t=0;for(var o in a)t+=a[o].value;e.push({key:r,average:t/o}),i++}this.average=e;var n={};for(var r in e)for(o=r;o<e.length;o++)if(e[r].average>e[o].average&&"ascending"==this.ordering)n=e[r],e[r]=e[o],e[o]=n;else if(e[r].average<e[o].average&&"descending"==this.ordering)n=e[r],e[r]=e[o],e[o]=n;else if("default"==this.ordering)break;for(r=0;r<e.length;r++)s[e[r].key]=this.dataob[e[r].key];this.dataob=s},parsingDataset.prototype.minmax=function(){var t=Object.keys(this.dataob).length;this.max=Array(t).fill(-1/0),this.min=Array(t).fill(1/0);var e=0;for(var i in this.dataob){var s=this.dataob[i];for(var r in s){var a=s[r].value;s[r].time;a>this.max[e]&&(this.max[e]=a),a<this.min[e]&&(this.min[e]=a)}e++}},parsingDataset.prototype.getWindowSize=function(){var t=document,e=t.documentElement,i=t.body;this.wid=window.innerWidth||e.clientWidth||i.clientWidth,this.numberOfAxisTick=this.wid/this.width},parsingDataset.prototype.evokingRender=function(){var t,e=0,i={};if("line"==this.chartType||"column"==this.chartType){t=this.max.length,console.log("test",Math.floor(this.wid/this.width));for(var s in this.dataob)console.log(t-e,"mark"),i.axisName=s,i.dataObject=this.dataob[s],i.height=this.height,i.width=this.width,i.ticks=this.optimizedTick[e++],i.ticksXaxis=this.ticksXaxis,i.chart=this.chartType,t-e<Math.floor(this.wid/this.width)?i.tickboolean=1:i.tickboolean=0,this.dataRender=new renderGraph(i)}else if("crosstab"==this.chartType){this.optimizedTick=[],this.header();for(var s in this.dataob){i.maxProfit=this.maxProfit,i.minProfit=this.minProfit,i.colorStart=this.colorStart,i.colorEnd=this.colorEnd,i.width=280,i.ticks=this.ticks,i.chart=this.chartType,i.pureTicks=this.pureTicks;new renderTool;var r=this.svgPlot(this.productArray[s]);i.height=r.getAttribute("height"),attachBoundary(r,!0,!0,!1,!0),this.crosschartTable=new crossChartTable(r,s,Object.keys(this.productArray[s]),this.maxP,this.minP);for(var a in this.dataob[s])i.dataObject=this.dataob[s][a],this.optimizedTick[e+1]={},this.dataRender=new renderGraph(i);var o=document.createElement("br");document.getElementById("container").appendChild(o)}this.footer()}},parsingDataset.prototype.footer=function(){var t=(new renderTool).drawSVG(null,70,"svgGraph");document.getElementById("container").appendChild(t);var e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("x",50),e.setAttribute("y",15),e.setAttribute("fill","black"),e.setAttribute("font-family","Verdana"),e.setAttribute("size","23px"),t.appendChild(e);var i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("x",150),i.setAttribute("fill","black"),i.setAttribute("font-family","Verdana"),i.setAttribute("size","23px"),i.setAttribute("y",30),t.appendChild(i);var s=330,r=277;for(var a in this.zones){for(var o=0;o<5;o++)(i=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("x",r+30),r+=42,i.setAttribute("fill","black"),i.setAttribute("font-family","Verdana"),i.setAttribute("y",50),i.setAttribute("transform","rotate(90 "+r+",13)"),i.textContent=this.ticks[o],t.appendChild(i);r+=19;var n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("x",s),s+=220,n.setAttribute("fill","black"),n.setAttribute("font-family","Verdana"),n.setAttribute("size","23px"),n.setAttribute("y",70),n.textContent="Sum of Sales",t.appendChild(n)}var h=document.createElement("br");document.getElementById("container").appendChild(h)},parsingDataset.prototype.header=function(){var t=(new renderTool).drawSVG(null,35,"svgGraph");document.getElementById("container").appendChild(t);var e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("x",50),e.setAttribute("y",15),e.setAttribute("fill","black"),e.setAttribute("font-family","Verdana"),e.setAttribute("size","23px"),e.textContent="Product Type",t.appendChild(e);var i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("x",150),i.setAttribute("fill","black"),i.setAttribute("font-family","Verdana"),i.setAttribute("size","23px"),i.setAttribute("y",15),i.textContent="Product",t.appendChild(i);var s=300;for(var r in this.zones){var a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("x",s),s+=230,a.setAttribute("fill","black"),a.setAttribute("font-family","Verdana"),a.setAttribute("size","23px"),a.setAttribute("y",15),a.textContent=""+this.zones[r],t.appendChild(a)}var o=document.createElement("br");document.getElementById("container").appendChild(o)},parsingDataset.prototype.tickMaker=function(){this.optimizedTick=[];for(var t=0;t<this.max.length;t++){var e=this.max[t],i=this.min[t];this.optimizedTick.push(tickGenerator(i,e,!0))}},(parsingDataset=function(t){if(this.dataset=t,this.jsonData=[],this.jsonData=this.dataset.data,this.dataob={},this.getWindowSize(),this.chartParse(),1==this.forcefulCrosstab){this.dataCruncherCrosstab(this.detect(this.jsonData,"category"));var e=["sosSum","sopSum"];this.jsonData=this.detect(this.jsonData,"category"),this.jsonData=this.detect(this.jsonData,"zone"),this.jsonData=this.dataCruncherForceful(this.jsonData);var i=minmax(this.jsonData[0],"sopSum").min,s=minmax(this.jsonData[0],"sopSum").max;this.ticks=tickGenerator(i,s,!0,!1);var r=[this.categories,this.zones],a=["Category vs SOP","Category vs SOS","Zone vs SOP","Zone vs SOS"],o={},n=0;for(var h in this.jsonData){o.dataObject=this.jsonData[h],o.height=this.height,o.width=this.width,o.ticksXaxis=r[h];for(var d in e){o.tag=e[d];var c=minmax(this.jsonData[0],e[d]).min,l=minmax(this.jsonData[0],e[d]).max;o.ticks=tickGenerator(c,l,!0,!0),o.pureTicks=tickGenerator(c,l,!0,!1),o.chart=this.chartType,o.axisName=a[n++],this.dataRender=new renderGraph(o)}}}else"line"==this.chartType||"column"==this.chartType?(this.jsonData=this.detect(this.jsonData,"time"),this.dataParseLineColumn(this.jsonData),this.orderingData(),this.minmax(),this.tickMaker(),this.evokingRender()):"crosstab"==this.chartType&&(this.jsonData=this.detect(this.jsonData,"category"),this.jsonData=this.detect(this.jsonData,"subcategory"),this.jsonData=this.dataCruncherCrosstab(this.jsonData),this.dataParseCrosstab(this.jsonData),this.fillUps(),this.evokingRender())}).prototype.svgPlot=function(t){var e=new renderTool;this.height;return t=Object.keys(t).length,this.svgCanvas=e.drawSVG(280,37.5*t,"svgGraph"),document.getElementById("container").appendChild(this.svgCanvas),this.svgCanvas},parsingDataset.prototype.dataCruncherForceful=function(t){var e,i,s=[],r=[],a=[],o=[];for(var n in t)i=t[n].sos,"("==t[n].sop.charAt(0)?(e=t[n].sop.replace("(",""),e=+(e=t[n].sos.replace(")","")),e*=-1):e=+t[n].sop,-1==s.indexOf(t[n].zone)?(s.push(t[n].zone),a.push({zone:t[n].zone,sosSum:+i,sopSum:+e})):(a[s.indexOf(t[n].zone)].sosSum+=+i,a[s.indexOf(t[n].zone)].sopSum+=e),-1==r.indexOf(t[n].category)?(r.push(t[n].category),o.push({category:t[n].category,sosSum:+i,sopSum:+e})):(o[r.indexOf(t[n].category)].sosSum+=+i,o[r.indexOf(t[n].category)].sopSum+=e);return[a,o]},parsingDataset.prototype.dataCruncherCrosstab=function(t){var e,i,s=[],r=[],a=[],o=-1/0,n=1/0,h=-1/0,d=1/0;for(var c in t)-1==s.indexOf(t[c].category)&&s.push(t[c].category),-1==a.indexOf(t[c].zone)&&a.push(t[c].zone);var l=[];for(var c in s){l[c]={},l[c].category=s[c],l[c].values=[];for(var u in a)l[c].values[u]={},l[c].values[u].zone=a[u],l[c].values[u].zoneValues=[]}for(var c in t)for(var u in l)for(var p in l[u].values)l[u].category==t[c].category&&l[u].values[p].zone==t[c].zone&&(i=Number(t[c].sos),e=t[c].sop,(e="("==t[c].sop[0]?-1*Number(e.replace("(","").replace(")","")):Number(e))>o&&(o=e),e<n&&(n=e),e>h&&(h=i),e<d&&(d=i),r.push(t[c].subcategory),l[u].values[p].zoneValues.push({product:t[c].subcategory,sos:i,sop:e}));return this.ticks=tickGenerator(0,h,!0,!0),this.pureTicks=tickGenerator(0,h,!0),this.categories=s,this.minProfit=n,this.maxProfit=o,this.zones=a,l},parsingDataset.prototype.dataParseCrosstab=function(t){var e=this.jsonData;for(var i in e){l=e[i];for(var s in l){if("values"!=s)c=l[s],this.dataob[c]={};else{u=l[s];var r=0;for(var a in u){var o=0,n=0;for(var h in u[a].zoneValues){u[a].zoneValues[h].sos=Number(u[a].zoneValues[h].sos),o+=Number(u[a].zoneValues[h].sos);var d=u[a].zoneValues[h].sop;NaN==Number(u[a].zoneValues[h].sop)?(d=(d=d.replace("(","")).replace(")",""),d=Number(d),n+=Number(d)):n+=Number(d)}u[a].zone==this.zones[r]?this.dataob[c][r]=u[a].zoneValues:(this.dataob[c][r++]=[],this.dataob[c][r]=u[a].zoneValues),r++}}}}this.productArray={};for(var i in e){var c,l=e[i];for(var s in l){var u,p;if("values"!=s)p=l[s],this.productArray[p]={};else{u=l[s];for(var a in u){var o=0,n=0;for(var h in u[a].zoneValues)void 0==this.productArray[p][u[a].zoneValues[h].product]&&"Total"!=u[a].zoneValues[h].product&&(this.productArray[p][u[a].zoneValues[h].product]=1)}}}}},parsingDataset.prototype.fillUps=function(){var t=Object.keys(this.productArray),e=0;for(var i in this.dataob){var s=this.dataob[i],r=this.productArray[t[e++]];r=r||{};for(var a in s){var o=Object.keys(r);for(var n in s[a])o=o.filter(function(t){return-1==[s[a][n].product+""].indexOf(t)});if(0!=o.length)for(var h in o)this.dataob[i][a].push({product:o[h]+"",sos:"0",sop:0});s[a].sort(function(t,e){return"Total"===t.product?1:"Total"===e.product?-1:t.product>e.product})}}},parsingDataset.prototype.dataParseLineColumn=function(t){var e=t,i=[];for(var s in e){var r,a=e[s];for(var o in a){var n=a[o];"time"==o?(r=n,-1==i.indexOf(r)&&i.push(r)):void 0==this.dataob[o]?(this.dataob[o]=[],this.dataob[o].push({time:r,value:n})):this.dataob[o].push({time:r,value:n})}}this.ticksXaxis=i},parsingDataset.prototype.detect=function(t,e){var i=[];for(var s in t)void 0!==t[s][e+""]&&i.push(t[s]);return i},parsingDataset.prototype.chartParse=function(){var t,e,i=this.dataset.chart;for(var s in i)"height"==s?this.height=i[s]:"width"==s?this.width=i[s]:"chartType"==s?this.chartType=i[s]:"ordering"==s?this.ordering=i[s]:"caption"==s?t=i[s]:"subcaption"==s?e=i[s]:"colorStart"==s?this.colorStart=i[s]:"colorEnd"==s?this.colorEnd=i[s]:"forceMapping"==s&&(this.forcefulCrosstab=i[s]);"crosstab"!==this.chartType&&(document.getElementById("caption").innerHTML=t,document.getElementById("subcaption").innerHTML=e)},parsingDataset.prototype.orderingData=function(){var t,e=[],i=0,s={};for(var r in this.dataob){var a=this.dataob[r];t=0;for(var o in a)t+=a[o].value;e.push({key:r,average:t/o}),i++}this.average=e;var n={};for(var r in e)for(o=r;o<e.length;o++)if(e[r].average>e[o].average&&"ascending"==this.ordering)n=e[r],e[r]=e[o],e[o]=n;else if(e[r].average<e[o].average&&"descending"==this.ordering)n=e[r],e[r]=e[o],e[o]=n;else if("default"==this.ordering)break;for(r=0;r<e.length;r++)s[e[r].key]=this.dataob[e[r].key];this.dataob=s},parsingDataset.prototype.minmax=function(){var t=Object.keys(this.dataob).length;this.max=Array(t).fill(-1/0),this.min=Array(t).fill(1/0);var e=0;for(var i in this.dataob){var s=this.dataob[i];for(var r in s){var a=s[r].value;s[r].time;a>this.max[e]&&(this.max[e]=a),a<this.min[e]&&(this.min[e]=a)}e++}},parsingDataset.prototype.getWindowSize=function(){var t=document,e=t.documentElement,i=t.body;this.wid=window.innerWidth||e.clientWidth||i.clientWidth,this.numberOfAxisTick=this.wid/this.width},parsingDataset.prototype.evokingRender=function(){var t,e=0,i={};if("line"==this.chartType||"column"==this.chartType){t=this.max.length,console.log("test",Math.floor(this.wid/this.width));for(var s in this.dataob)console.log(t-e,"mark"),i.axisName=s,i.dataObject=this.dataob[s],i.height=this.height,i.width=this.width,i.ticks=this.optimizedTick[e++],i.ticksXaxis=this.ticksXaxis,i.chart=this.chartType,t-e<Math.floor(this.wid/this.width)?i.tickboolean=1:i.tickboolean=0,this.dataRender=new renderGraph(i)}else if("crosstab"==this.chartType){this.optimizedTick=[],this.header();for(var s in this.dataob){i.maxProfit=this.maxProfit,i.minProfit=this.minProfit,i.colorStart=this.colorStart,i.colorEnd=this.colorEnd,i.width=280,i.ticks=this.ticks,i.chart=this.chartType,i.pureTicks=this.pureTicks;new renderTool;var r=this.svgPlot(this.productArray[s]);i.height=r.getAttribute("height"),attachBoundary(r,!0,!0,!1,!0),this.crosschartTable=new crossChartTable(r,s,Object.keys(this.productArray[s]),this.maxP,this.minP);for(var a in this.dataob[s])i.dataObject=this.dataob[s][a],this.optimizedTick[e+1]={},this.dataRender=new renderGraph(i);var o=document.createElement("br");document.getElementById("container").appendChild(o)}this.footer()}},parsingDataset.prototype.footer=function(){var t=(new renderTool).drawSVG(null,70,"svgGraph");document.getElementById("container").appendChild(t);var e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("x",50),e.setAttribute("y",15),e.setAttribute("fill","black"),e.setAttribute("font-family","Verdana"),e.setAttribute("size","23px"),t.appendChild(e);var i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("x",150),i.setAttribute("fill","black"),i.setAttribute("font-family","Verdana"),i.setAttribute("size","23px"),i.setAttribute("y",30),t.appendChild(i);var s=330,r=277;for(var a in this.zones){for(var o=0;o<5;o++)(i=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("x",r+30),r+=42,i.setAttribute("fill","black"),i.setAttribute("font-family","Verdana"),i.setAttribute("y",50),i.setAttribute("transform","rotate(90 "+r+",13)"),i.textContent=this.ticks[o],t.appendChild(i);r+=19;var n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("x",s),s+=220,n.setAttribute("fill","black"),n.setAttribute("font-family","Verdana"),n.setAttribute("size","23px"),n.setAttribute("y",70),n.textContent="Sum of Sales",t.appendChild(n)}var h=document.createElement("br");document.getElementById("container").appendChild(h)},parsingDataset.prototype.header=function(){var t=(new renderTool).drawSVG(null,35,"svgGraph");document.getElementById("container").appendChild(t);var e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("x",50),e.setAttribute("y",15),e.setAttribute("fill","black"),e.setAttribute("font-family","Verdana"),e.setAttribute("size","23px"),e.textContent="Product Type",t.appendChild(e);var i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("x",150),i.setAttribute("fill","black"),i.setAttribute("font-family","Verdana"),i.setAttribute("size","23px"),i.setAttribute("y",15),i.textContent="Product",t.appendChild(i);var s=300;for(var r in this.zones){var a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("x",s),s+=230,a.setAttribute("fill","black"),a.setAttribute("font-family","Verdana"),a.setAttribute("size","23px"),a.setAttribute("y",15),a.textContent=""+this.zones[r],t.appendChild(a)}var o=document.createElement("br");document.getElementById("container").appendChild(o)},parsingDataset.prototype.tickMaker=function(){this.optimizedTick=[];for(var t=0;t<this.max.length;t++){var e=this.max[t],i=this.min[t];this.optimizedTick.push(tickGenerator(i,e,!0))}};var lineChart=function(t){this.RenderGraph=t.svg,this.coordinateOb=t.coordinateOb,this.dataob=t.dataob,this.pathString=t.pathString,this.width=t.width,this.height=t.height,this.drawPath()};lineChart.prototype.drawPath=function(){function t(t){function s(t,e){a.setAttribute("d",e+" L"+h[t]+","+d[t])}t==n&&this.drawAnchorPoints(),e=o[t],i=o[t+1],r+=e+" ",e=e.replace("M","").replace("L","").split(","),i=i.replace("M","").replace("L","").split(",");for(var h=interpolate(+e[0],+i[0],100),d=interpolate(+e[1],+i[1],100),c=0;c<h.length-1;c++)setTimeout(s.bind(this,c,r),2*c);a.setAttribute("d",r)}var e,i,s=new renderTool,r="",a=(document.createElementNS("http://www.w3.org/2000/svg","g"),s.drawPath("","line-graph"));this.RenderGraph.appendChild(a);var o=this.pathString.split(" "),n=o.length;console.log(o,"patharray");for(var h=0;h<=n;++h)setTimeout(t.bind(this,h),200*(h+3))},lineChart.prototype.animatePath=function(t){var e=t.split(" ");for(var i in e)e[i].split(1,e[i].length)},lineChart.prototype.drawAnchorPoints=function(){var t=new renderTool;this.anchorPoints=[],this.anchorPoints.fill(t.drawCircle(-100,-100,"anchorpoint"));for(var e=this,i=0;i<this.coordinateOb.length;i++)void 0==this.anchorPoints[i]&&(this.toolBox=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.toolText=document.createElementNS("http://www.w3.org/2000/svg","text"),this.anchorPoints[i]=t.drawCircle(Math.floor(this.coordinateOb[i].x),Math.floor(this.coordinateOb[i].y),"anchorpoint"),this.toolBox.setAttribute("height",20),this.toolBox.setAttribute("width",25),this.toolBox.setAttribute("style","fill:#fed8ca;stroke:brown;stroke-width:1;opacity:0.7"),this.RenderGraph.appendChild(this.anchorPoints[i]),this.hairLine=document.createElementNS("http://www.w3.org/2000/svg","line"),this.RenderGraph.addEventListener("mousemove",onMouseMove),this.anchorPoints[i].addEventListener("mousemove",onMouseMove),function(t){document.addEventListener("onHighlight",function(i){var s=i.detail.x%(e.width+20)-8;e.hairLine.setAttributeNS(null,"y1",30),e.hairLine.setAttributeNS(null,"y2",e.height-40),e.hairLine.setAttributeNS(null,"x1",s),e.hairLine.setAttributeNS(null,"x2",s),e.hairLine.setAttribute("class","hairLine"),e.RenderGraph.appendChild(e.hairLine);var r=Number(e.anchorPoints[t].getAttribute("cx")),a=Number(e.anchorPoints[t].getAttribute("cx"))+12,o=Number(e.anchorPoints[t].getAttribute("cy"))-6;Number(e.anchorPoints[t].getAttribute("cy")),i.detail.y,s>=r&&s<=a?(e.anchorPoints[t].setAttribute("class","anchorpointHighlight"),e.toolText.setAttribute("x",a+3),e.toolText.setAttribute("y",o+15),e.toolText.setAttribute("fill","brown"),e.toolText.setAttribute("font-size","15px"),e.toolBox.setAttribute("x",a),e.toolBox.setAttribute("y",o),s>=e.coordinateOb[t].x+8&&s<=e.coordinateOb[t].x+12&&(e.toolText.textContent=e.dataob[t].value,e.toolText.setAttribute("x",-100),e.toolText.setAttribute("y",-100),e.toolBox.setAttribute("x",-100),e.toolBox.setAttribute("y",-100)),e.RenderGraph.appendChild(e.toolBox),e.RenderGraph.appendChild(e.toolText)):e.anchorPoints[t].setAttribute("class","anchorpoint")},!1)}(i))},(lineChart=function(t){this.RenderGraph=t.svg,this.coordinateOb=t.coordinateOb,this.dataob=t.dataob,this.pathString=t.pathString,this.width=t.width,this.height=t.height,this.drawPath()}).prototype.drawPath=function(){function t(t){function s(t,e){a.setAttribute("d",e+" L"+h[t]+","+d[t])}t==n&&this.drawAnchorPoints(),e=o[t],i=o[t+1],r+=e+" ",e=e.replace("M","").replace("L","").split(","),i=i.replace("M","").replace("L","").split(",");for(var h=interpolate(+e[0],+i[0],100),d=interpolate(+e[1],+i[1],100),c=0;c<h.length-1;c++)setTimeout(s.bind(this,c,r),2*c);a.setAttribute("d",r)}var e,i,s=new renderTool,r="",a=(document.createElementNS("http://www.w3.org/2000/svg","g"),s.drawPath("","line-graph"));this.RenderGraph.appendChild(a);var o=this.pathString.split(" "),n=o.length;console.log(o,"patharray");for(var h=0;h<=n;++h)setTimeout(t.bind(this,h),200*(h+3))},lineChart.prototype.animatePath=function(t){var e=t.split(" ");for(var i in e)e[i].split(1,e[i].length)},lineChart.prototype.drawAnchorPoints=function(){var t=new renderTool;this.anchorPoints=[],this.anchorPoints.fill(t.drawCircle(-100,-100,"anchorpoint"));for(var e=this,i=0;i<this.coordinateOb.length;i++)void 0==this.anchorPoints[i]&&(this.toolBox=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.toolText=document.createElementNS("http://www.w3.org/2000/svg","text"),this.anchorPoints[i]=t.drawCircle(Math.floor(this.coordinateOb[i].x),Math.floor(this.coordinateOb[i].y),"anchorpoint"),this.toolBox.setAttribute("height",20),this.toolBox.setAttribute("width",25),this.toolBox.setAttribute("style","fill:#fed8ca;stroke:brown;stroke-width:1;opacity:0.7"),this.RenderGraph.appendChild(this.anchorPoints[i]),this.hairLine=document.createElementNS("http://www.w3.org/2000/svg","line"),this.RenderGraph.addEventListener("mousemove",onMouseMove),this.anchorPoints[i].addEventListener("mousemove",onMouseMove),function(t){document.addEventListener("onHighlight",function(i){var s=i.detail.x%(e.width+20)-8;e.hairLine.setAttributeNS(null,"y1",30),e.hairLine.setAttributeNS(null,"y2",e.height-40),e.hairLine.setAttributeNS(null,"x1",s),e.hairLine.setAttributeNS(null,"x2",s),e.hairLine.setAttribute("class","hairLine"),e.RenderGraph.appendChild(e.hairLine);var r=Number(e.anchorPoints[t].getAttribute("cx")),a=Number(e.anchorPoints[t].getAttribute("cx"))+12,o=Number(e.anchorPoints[t].getAttribute("cy"))-6;Number(e.anchorPoints[t].getAttribute("cy")),i.detail.y,s>=r&&s<=a?(e.anchorPoints[t].setAttribute("class","anchorpointHighlight"),e.toolText.setAttribute("x",a+3),e.toolText.setAttribute("y",o+15),e.toolText.setAttribute("fill","brown"),e.toolText.setAttribute("font-size","15px"),e.toolBox.setAttribute("x",a),e.toolBox.setAttribute("y",o),s>=e.coordinateOb[t].x+8&&s<=e.coordinateOb[t].x+12&&(e.toolText.textContent=e.dataob[t].value,e.toolText.setAttribute("x",-100),e.toolText.setAttribute("y",-100),e.toolBox.setAttribute("x",-100),e.toolBox.setAttribute("y",-100)),e.RenderGraph.appendChild(e.toolBox),e.RenderGraph.appendChild(e.toolText)):e.anchorPoints[t].setAttribute("class","anchorpoint")},!1)}(i))};var columnChart=function(t){this.RenderGraph=t.svg,this.coordinateOb=t.coordinateOb,this.dataob=t.dataob,this.width=t.width,this.height=t.height,this.direction=t.direction||"vertical",this.drawColumns(this.direction)};columnChart.prototype.drawColumns=function(t){var e=this,i=this.coordinateOb.length;this.svgColumn=[];for(var s=0;s<i;s++)this.columnWidth=(this.width-45)/(2*this.dataob.length-1),this.svgColumn[s]=document.createElementNS("http://www.w3.org/2000/svg","rect"),"vertical"==t?(this.svgColumn[s].setAttribute("y",this.coordinateOb[s].y),this.svgColumn[s].setAttribute("x",this.coordinateOb[s].x-this.columnWidth/2),this.svgColumn[s].setAttribute("height",this.height-40-this.coordinateOb[s].y),this.svgColumn[s].setAttribute("width",15),animateColumn(this.svgColumn[s],"vertical",200),this.svgColumn[s].addEventListener("mousemove",onMouseMove),this.svgColumn[s].addEventListener("mouseout",onMouseOut)):(this.svgColumn[s].setAttribute("y",this.coordinateOb[s].x),this.svgColumn[s].setAttribute("x",0),this.svgColumn[s].setAttribute("width",2.8*this.coordinateOb[s].y),this.svgColumn[s].setAttribute("height",15),this.svgColumn[s].setAttribute("style","fill:"+this.coordinateOb[s].color),animateColumn(this.svgColumn[s],"horizontal",850)),this.svgColumn[s].setAttribute("class","svgColumn"),this.toolText=document.createElementNS("http://www.w3.org/2000/svg","text"),this.toolBox=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.toolBox.setAttribute("height",20),this.toolBox.setAttribute("width",25),this.toolBox.setAttribute("style","fill:#fed8ca;stroke:brown;stroke-width:1;opacity:0.7"),this.RenderGraph.appendChild(this.svgColumn[s]),function(t){document.addEventListener("onHighlight",function(i){var s=Number(e.svgColumn[t].getAttribute("x")),r=e.coordinateOb[t].y+e.columnWidth,a=s+e.columnWidth,o=i.detail.x%(e.width+20);o>=s&&o<=a+10&&(e.svgColumn[t].setAttribute("class","svgColumnHighlight"),e.toolText.setAttribute("x",a+5),e.toolBox.setAttribute("x",a+5),e.toolText.setAttribute("y",r-15),e.toolBox.setAttribute("y",r-30),e.toolText.setAttribute("font-size","20px"),o>=e.coordinateOb[t].x-6&&o<=e.coordinateOb[t].x+24&&(e.toolText.textContent=e.dataob[t].value,e.RenderGraph.appendChild(e.toolBox),e.RenderGraph.appendChild(e.toolText)))},!1),document.addEventListener("onNormal",function(i){e.svgColumn[t].setAttribute("class","svgColumn")},!1)}(s)},(columnChart=function(t){this.RenderGraph=t.svg,this.coordinateOb=t.coordinateOb,this.dataob=t.dataob,this.width=t.width,this.height=t.height,this.direction=t.direction||"vertical",this.drawColumns(this.direction)}).prototype.drawColumns=function(t){var e=this,i=this.coordinateOb.length;this.svgColumn=[];for(var s=0;s<i;s++)this.columnWidth=(this.width-45)/(2*this.dataob.length-1),this.svgColumn[s]=document.createElementNS("http://www.w3.org/2000/svg","rect"),"vertical"==t?(this.svgColumn[s].setAttribute("y",this.coordinateOb[s].y),this.svgColumn[s].setAttribute("x",this.coordinateOb[s].x-this.columnWidth/2),this.svgColumn[s].setAttribute("height",this.height-40-this.coordinateOb[s].y),this.svgColumn[s].setAttribute("width",15),animateColumn(this.svgColumn[s],"vertical",200),this.svgColumn[s].addEventListener("mousemove",onMouseMove),this.svgColumn[s].addEventListener("mouseout",onMouseOut)):(this.svgColumn[s].setAttribute("y",this.coordinateOb[s].x),this.svgColumn[s].setAttribute("x",0),this.svgColumn[s].setAttribute("width",2.8*this.coordinateOb[s].y),this.svgColumn[s].setAttribute("height",15),this.svgColumn[s].setAttribute("style","fill:"+this.coordinateOb[s].color),animateColumn(this.svgColumn[s],"horizontal",850)),this.svgColumn[s].setAttribute("class","svgColumn"),this.toolText=document.createElementNS("http://www.w3.org/2000/svg","text"),this.toolBox=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.toolBox.setAttribute("height",20),this.toolBox.setAttribute("width",25),this.toolBox.setAttribute("style","fill:#fed8ca;stroke:brown;stroke-width:1;opacity:0.7"),this.RenderGraph.appendChild(this.svgColumn[s]),function(t){document.addEventListener("onHighlight",function(i){var s=Number(e.svgColumn[t].getAttribute("x")),r=e.coordinateOb[t].y+e.columnWidth,a=s+e.columnWidth,o=i.detail.x%(e.width+20);o>=s&&o<=a+10&&(e.svgColumn[t].setAttribute("class","svgColumnHighlight"),e.toolText.setAttribute("x",a+5),e.toolBox.setAttribute("x",a+5),e.toolText.setAttribute("y",r-15),e.toolBox.setAttribute("y",r-30),e.toolText.setAttribute("font-size","20px"),o>=e.coordinateOb[t].x-6&&o<=e.coordinateOb[t].x+24&&(e.toolText.textContent=e.dataob[t].value,e.RenderGraph.appendChild(e.toolBox),e.RenderGraph.appendChild(e.toolText)))},!1),document.addEventListener("onNormal",function(i){e.svgColumn[t].setAttribute("class","svgColumn")},!1)}(s)};var crossChartTable=function(t,e,i){this.productSeq=i,this.RenderGraph=t,this.productType=e,this.drawColumns()};crossChartTable.prototype.drawColumns=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("x",50),t.setAttribute("y",25),t.setAttribute("fill","black"),t.setAttribute("font-family","Verdana"),t.setAttribute("size","20px"),t.textContent=this.productType,this.RenderGraph.appendChild(t);for(var e=25,i=0;i<this.productSeq.length;i++){var s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x",150),s.setAttribute("fill","black"),s.setAttribute("font-family","Verdana"),s.setAttribute("size","20px"),s.setAttribute("y",e),e+=35,s.textContent=this.productSeq[i],this.RenderGraph.appendChild(s)}},(crossChartTable=function(t,e,i){this.productSeq=i,this.RenderGraph=t,this.productType=e,this.drawColumns()}).prototype.drawColumns=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("x",50),t.setAttribute("y",25),t.setAttribute("fill","black"),t.setAttribute("font-family","Verdana"),t.setAttribute("size","20px"),t.textContent=this.productType,this.RenderGraph.appendChild(t);for(var e=25,i=0;i<this.productSeq.length;i++){var s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x",150),s.setAttribute("fill","black"),s.setAttribute("font-family","Verdana"),s.setAttribute("size","20px"),s.setAttribute("y",e),e+=35,s.textContent=this.productSeq[i],this.RenderGraph.appendChild(s)}};var crossChart=function(t){this.productSeq=t.productSeq,this.RenderGraph=t.svg,this.ticks=t.ticks,console.log("TIcks::",this.ticks),this.dataob=t.dataob,this.width=t.width,this.height=t.height,this.minProfit=t.minProfit,this.maxProfit=t.maxProfit,this.colorStart=t.colorStart,this.colorEnd=t.colorEnd,attachBoundary(this.RenderGraph,!0,!0,!0,!0),this.coordinateCalculationCrossTab(),this.drawColumns()};crossChart.prototype.drawColumns=function(){var t=this.coordinateOb.length;this.svgColumn=[];for(var e,i=new renderTool,s=0;s<t;s++)(e=i.drawRect(0,this.coordinateOb[s].x,this.coordinateOb[s].y,15,"svgColumn")).setAttribute("style","fill:"+this.coordinateOb[s].color),animateColumn(e,"horizantal",850),this.RenderGraph.appendChild(e)},crossChart.prototype.coordinateCalculationCrossTab=function(){var t=[];for(var e in this.dataob)if(void 0!=this.dataob[e]){var i,s=this.ticks[0],r=this.ticks[this.ticks.length-1]+this.ticks[1],a=this.width,o=(this.dataob[e].sos-s)/(r-s)*(a-30);i=15+34*Number(e),t.push({x:i,y:o,color:colorBars(this.colorStart,this.colorEnd,this.minProfit,this.maxProfit,this.dataob[e].sop)})}this.coordinateOb=t,console.log("=\n=\n=\n=\n=\n=\n=",this.coordinateOb)},(crossChart=function(t){this.productSeq=t.productSeq,this.RenderGraph=t.svg,this.ticks=t.ticks,console.log("TIcks::",this.ticks),this.dataob=t.dataob,this.width=t.width,this.height=t.height,this.minProfit=t.minProfit,this.maxProfit=t.maxProfit,this.colorStart=t.colorStart,this.colorEnd=t.colorEnd,attachBoundary(this.RenderGraph,!0,!0,!0,!0),this.coordinateCalculationCrossTab(),this.drawColumns()}).prototype.drawColumns=function(){var t=this.coordinateOb.length;this.svgColumn=[];for(var e,i=new renderTool,s=0;s<t;s++)(e=i.drawRect(0,this.coordinateOb[s].x,this.coordinateOb[s].y,15,"svgColumn")).setAttribute("style","fill:"+this.coordinateOb[s].color),animateColumn(e,"horizantal",850),this.RenderGraph.appendChild(e)},crossChart.prototype.coordinateCalculationCrossTab=function(){var t=[];for(var e in this.dataob)if(void 0!=this.dataob[e]){var i,s=this.ticks[0],r=this.ticks[this.ticks.length-1]+this.ticks[1],a=this.width,o=(this.dataob[e].sos-s)/(r-s)*(a-30);i=15+34*Number(e),t.push({x:i,y:o,color:colorBars(this.colorStart,this.colorEnd,this.minProfit,this.maxProfit,this.dataob[e].sop)})}this.coordinateOb=t,console.log("=\n=\n=\n=\n=\n=\n=",this.coordinateOb)},crossChartDemo.prototype=Object.create(columnChart.prototype),crossChartDemo.prototype.constructor=crossChartDemo,crossChartDemo.prototype.coordinateCalculationCrossTab=function(){var t=[];for(var e in this.dataob)if(void 0!=this.dataob[e]){var i,s=this.ticks[0],r=this.ticks[this.ticks.length-1]+this.ticks[1],a=this.height,o=(this.dataob[e].sos-s)/(r-s)*(a-30);i=15+34*Number(e),t.push({x:i,y:o,color:colorBars(this.colorStart,this.colorEnd,this.minProfit,this.maxProfit,this.dataob[e].sop)})}return t},crossChartDemo.prototype=Object.create(columnChart.prototype),crossChartDemo.prototype.constructor=crossChartDemo,crossChartDemo.prototype.coordinateCalculationCrossTab=function(){var t=[];for(var e in this.dataob)if(void 0!=this.dataob[e]){var i,s=this.ticks[0],r=this.ticks[this.ticks.length-1]+this.ticks[1],a=this.height,o=(this.dataob[e].sos-s)/(r-s)*(a-30);i=15+34*Number(e),t.push({x:i,y:o,color:colorBars(this.colorStart,this.colorEnd,this.minProfit,this.maxProfit,this.dataob[e].sop)})}return t};